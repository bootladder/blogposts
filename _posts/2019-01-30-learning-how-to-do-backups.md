---
layout: post
title: Learning how to do Backups
---
# Learning how to do Backups : Quite harder than I assumed

* When restoring to a new machine from the "Cloud Backup", the new machine needs access creds.  
  * Could put this in a private Bitbucket repo
  * This isn't an issue when restoring from a physical local drive
    * But I may not have possession if I'm travelling
  * I could have a USB stick just for creds, hostnames, SSH keys, directory info
  * With either Bitbucket or the Stick, I now have to sync another thing.

* The problem with USB sticks and drives is that, in general, they aren't plugged in or mounted at the time they need to be synced.  
  * So what do you do, wait for it to be plugged in?
  * Remind the user to plug it in?

* There's a lot of crap in /home, particularly dot folders with `./crap` in them.  `./thunderbird` **ahem**.  
* The root `/` has alot of mounted filesystems which shouldn't be backed up
  * /mnt /tmp /proc /sys

* Do not want to mess up the package manager
  * I have no idea how to avoid this besides just not backing up the package manager

* If I can get away with not backing up the package manager, then the only software I need to backup is software not under the package manager.
* I have a ton of critical files interleaved with non-critical, temporary, autogenerated files.
  * It's really annoying for example `.bashrc` and `.config/i3/config` are critical, tiny files
  * I have in the past used a Bitbucket repo for this.  Oh turns out there were only 3 config files in there haha, `vimrc i3config bashrc`
* One relief is that `/etc/` isn't that big.
* Large files eg. audio/video should be under a separate backup system


# TreeMap (\dir -> Strategy dir) FilesystemTree
  
Map thru the filesystem, scan for changes, decide an action
