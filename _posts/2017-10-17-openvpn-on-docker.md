---
layout: post
title: OpenVPN on Docker
---
```
sudo curl -sSL https://get.docker.com/ | sudo sh
sudo usermod -aG docker ubuntu
```
  
# https://github.com/kylemanna/docker-openvpn
  
```
OVPN_DATA="ovpn-data-example"
```
The volume stores data generated by the following.
```
docker volume create --name $OVPN_DATA
  docker run -v $OVPN_DATA:/etc/openvpn --rm kylemanna/openvpn ovpn_genconfig -u udp://VPN.SERVERNAME.COM
sudo ls /var/lib/docker/volumes/ovpn-data-example/_data/
ccd  down.sh  openvpn.conf  ovpn_env.sh  up.sh
```
```
docker run -v $OVPN_DATA:/etc/openvpn --rm -it kylemanna/openvpn ovpn_initpki
ubuntu@ubuntu:~$ sudo ls /var/lib/docker/volumes/ovpn-data-example/_data/
ccd  down.sh  openvpn.conf  ovpn_env.sh  pki  up.sh
```
```
docker run -v $OVPN_DATA:/etc/openvpn -d -p 1194:1194/udp --cap-add=NET_ADMIN kylemanna/openvpn
  docker run -v $OVPN_DATA:/etc/openvpn --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass
  docker run -v $OVPN_DATA:/etc/openvpn --rm kylemanna/openvpn ovpn_getclient CLIENTNAME > CLIENTNAME.ovpn
```
```
ubuntu@ubuntu:~$ ls
CLIENTNAME.ovpn 
```
